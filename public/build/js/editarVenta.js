function Actualizar_cantidad(){for(var e=document.getElementById("myTable"),t=0;t<e.rows.length;t++){var r=e.rows[t].cells[4].querySelector(".cantidad-input");if(r){var i=r.value;if(parseFloat(i)<1)return Swal.fire({icon:"error",title:"Error",text:"La cantidad no puede ser menor a 1"})}}var a=document.querySelectorAll(".cantidad-input"),n=[];a.forEach((function(e){var t=e.value,r=e.name;n.push({id:r,cantidad:t})})),Swal.fire({title:"¿Seguro que deseas editar las cantidades?",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, Editar",cancelButtonText:"Cancelar"}).then(e=>{e.isConfirmed&&n.forEach((function(e){editarRegistro(e.id,e.cantidad)}))})}function editarRegistro(e,t){$.post("/api/editar-cantidad",{cantidad:t,id:e},(function(e){"success"===e.trim().toLowerCase()?Swal.fire({icon:"success",title:"Éxito",text:"Cantidad editada correctamente"}).then(e=>{e.isConfirmed&&location.reload()}):"errorcant"===e.trim().toLowerCase()?Swal.fire({icon:"error",title:"Error",text:"La cantidad no puede ser menor a 1"}):Swal.fire({icon:"error",title:"Error",text:"Hubo un problema al editar la cantidad"})}))}$(document).ready((function(){$(".eliminar-btn").click((function(){!function(e){Swal.fire({title:"¿Seguro que deseas eliminar este producto de la orden?",text:"Esta accion no se podra deshacer",icon:"warning",showCancelButton:!0,confirmButtonText:"Si, eliminar",cancelButtonText:"Cancelar"}).then(t=>{t.isConfirmed&&function(e){$.post("/api/eliminar-item",{action:"eliminar",id:e},(function(e){"success"===e.trim()?Swal.fire({icon:"success",title:"Éxito",text:"Producto eliminado correctamente"}).then(e=>{e.isConfirmed&&location.reload()}):"errorCant"===e.trim()?Swal.fire({icon:"error",title:"Error",text:"No se puede eliminar un producto que es el unico de la compra"}):Swal.fire({icon:"error",title:"Error",text:"No se puede eliminar este producto"})}))}(e)})}($(this).data("id"))}))}));