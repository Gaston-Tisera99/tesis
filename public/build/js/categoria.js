function ListarCategorias(t){fetch("/api/listar-categorias",{method:"POST",body:t}).then(t=>t.text()).then(t=>{resultado.innerHTML=t})}ListarCategorias();var registrar=document.getElementById("registrar");function Eliminar(t){Swal.fire({title:"Esta seguro de eliminar?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"SI!",cancelButtonText:"NO"}).then(e=>{e.isConfirmed&&fetch("/api/eliminar-categorias",{method:"POST",body:t}).then(t=>t.text()).then(t=>{"ok"==t&&Swal.fire({icon:"success",title:"Eliminado",showConfirmButton:!1,timer:1500}),frm.reset(),ListarCategorias()})})}function Editar(t){fetch("/api/editar-categorias",{method:"POST",body:t}).then(t=>t.json()).then(t=>{idp.value=t.id,nombre.value=t.nombre,descripcion.value=t.descripcion;const e=new Date(t.datecreated).toISOString().split("T")[0];fecha.value=e,registrar.value="Actualizar"})}registrar.addEventListener("click",async()=>{try{const t="/api/categorias";await fetch(t,{method:"POST",body:new FormData(frm)}).then(t=>t.text()).then(t=>{"ok"==t?Swal.fire({icon:"success",title:"Registrado",showConfirmButton:!1,timer:1500}):"modificado"===t&&Swal.fire({icon:"success",title:"modificado",showConfirmButton:!1,timer:1500}),registrar.value="Registrar",idp.value="",frm.reset(),ListarCategorias()})}catch(t){console.log("Error en la solicitud: ",t)}}),buscar.addEventListener("keyup",()=>{const t=buscar.value;""==t?ListarCategorias():ListarCategorias(t)});