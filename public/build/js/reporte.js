!function(){const e=document.getElementById("categoria"),t=document.getElementById("grafico-producto");let o=null;async function a(e){!async function(){o&&o.destroy();const a=await fetch("/api/productos"),n=await a.json();console.log(n);const c=n.filter(t=>t.id_categoria===e);o=new Chart(t,{type:"bar",data:{labels:c.map(e=>e.nombre_producto),datasets:[{data:c.map(e=>e.vendidos),backgroundColor:["#ea580c","#84cc16","#22d3ee","#a855f7","#ef4444","#14b8a6","#db2777","#e11d48","#7e22ce"]}]},options:{scales:{y:{beginAtZero:!0,stepSize:10}},plugins:{legend:{display:!1}}}})}()}a(e.value),e.addEventListener("change",(function(){const t=e.value;console.log(t),a(t)}))}();