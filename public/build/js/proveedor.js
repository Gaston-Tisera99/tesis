function registrarProveedor(){var e=document.getElementById("txtrazon_social").value,t=document.getElementById("txtcuit").value,o=document.getElementById("txtdireccion").value,a=document.getElementById("txttelefono").value,r=document.getElementById("txtemail").value;if(""===e||""===t||""===o||""===a||""===r)return Swal.fire({title:"Atención",text:"Primero debes completar los campos!",icon:"warning"});$.ajax({url:"/api/proveedor",type:"POST",data:{action:"insertarDatos",razon_social:e,cuit:t,direccion:o,telefono:a,email:r},success:function(e){"success"===e?($("#exampleModal").modal("hide"),document.getElementById("txtrazon_social").value="",document.getElementById("txtcuit").value="",document.getElementById("txtdireccion").value="",document.getElementById("txttelefono").value="",document.getElementById("txtemail").value="",Swal.fire({icon:"success",title:"Exito",text:"Proveedor registrado correctamente!"}).then(e=>{e.isConfirmed&&($("#modal_actualizar").modal("hide"),setTimeout(()=>{location.reload()},1e3))})):Swal.fire("Ups!","No se guardaron los datos","error")},error:function(){Swal.fire("Ups, hubo un error en Ajax!","No se enviaron los datos","error")}})}function cargarDatosProveedor(e){$.ajax({url:"/api/editar-proveedor",type:"POST",data:{action:"obtenerDatosUsuarios",id:e},success:function(t){try{datosUsuario=JSON.parse(t),console.log(datosUsuario),document.getElementById("editUserId").value=e,document.getElementById("txtrazon_social_actualizar").value=datosUsuario.razon_social,document.getElementById("txtcuit_actualizar").value=datosUsuario.cuit,document.getElementById("txtdireccion_actualizar").value=datosUsuario.direccion,document.getElementById("txttelefono_actualizar").value=datosUsuario.telefono,document.getElementById("txtemail_actualizar").value=datosUsuario.email,$("#modal_actualizar").modal("show")}catch(e){console.error("Error al procesar la respuesta de JSON: "+e),alert("Hubo un problema al cargar los datos del usuario")}},error:function(e,t,o){console.error("Error en la solicitud de AJAX: "+o),alert("Hubo un error al cargar los datos del usuario")}})}function Actualizar_usuario(){var e=document.getElementById("editUserId").value,t=document.getElementById("txtrazon_social_actualizar").value,o=document.getElementById("txtcuit_actualizar").value,a=document.getElementById("txtdireccion_actualizar").value,r=document.getElementById("txttelefono_actualizar").value,i=document.getElementById("txtemail_actualizar").value;if(""==t.length||""==o.length||""==a.length||""==r.length||""==i.length)return Swal.fire({title:"Estimado Administrador",text:"No está permitido campos vacíos",icon:"error"});$.ajax({url:"/api/editar-proveedor",method:"POST",data:{action:"actualizarUsuario",id:e,razon_social:t,cuit:o,direccion:a,telefono:r,email:i},success:function(e){"success"===(e=e.trim())?Swal.fire({icon:"success",title:"Exito",text:"Proveedor actualizado correctamente!"}).then(e=>{e.isConfirmed&&($("#modal_actualizar").modal("hide"),setTimeout(()=>{location.reload()},1e3))}):Swal.fire({icon:"error",title:"Error",text:"Hubo un error al actualizar el proveedor"})},error:function(e,t,o){console.error("Error en la solicitud ajax "+o),alert("Hubo un error al cargar los datos del proveedor")}})}$(document).ready((function(){$(".eliminar-btn").click((function(){!function(e){Swal.fire({title:"¿Seguro que desea eliminar este proveedor?",icon:"warning",text:"Esta accion no se podra deshacer",showCancelButton:!0,confirmButtonText:"Si, eliminar",cancelButtonText:"Cancelar"}).then(t=>{t.isConfirmed&&function(e){$.post("/api/eliminar-proveedor",{action:"eliminarProveedor",id:e},(function(e){"success"===e.trim()?Swal.fire({icon:"success",title:"Éxito",text:"Proveedor eliminado correctamente"}).then(e=>{e.isConfirmed&&location.reload()}):Swal.fire({icon:"error",title:"Error",text:"Hubo un problema al eliminar el proveedor"})}))}(e)})}($(this).data("id"))}))}));